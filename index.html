<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AQUINTAQA — Quality & Standards</title>
  <style>
    :root{
      --bg:#000000;
      --line: rgba(74,144,164,0.30);
      --line-strong: rgba(74,200,220,0.70);
      --text:#ffffff;
      --muted:#888888;
      --micro:#666666;
      --card: rgba(10,20,30,0.40);
      --border: rgba(74,144,164,0.40);
      --green:#44cc88;
      --red:#ff4444;
      --blue:#4488ff;
      --glow: rgba(74,200,220,0.40);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background: var(--bg);
      color:var(--text);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow:hidden; /* no scroll on desktop */
    }

    .section{
      height:100vh;
      width:100%;
      position:relative;
      padding: 16px 20px 14px;
      display:grid;
      grid-template-rows: auto 1fr;
      gap: 10px;
    }

    /* language toggle (top-right) */
    .lang{
      position:absolute;
      top:12px; right:12px;
      display:flex; gap:8px;
      z-index:50;
    }
    .lang button{
      border:1px solid var(--border);
      background:transparent;
      color:var(--muted);
      padding:8px 10px;
      font: 500 12px/1 Inter, system-ui, sans-serif;
      letter-spacing: .18em;
      text-transform:uppercase;
      cursor:pointer;
    }
    .lang button[aria-pressed="true"]{
      color:var(--text);
      border-color: rgba(74,200,220,0.65);
    }

    /* header */
    .header{
      text-align:center;
      padding-top:2px;
    }
    .title{
      margin:0;
      font-weight:300;
      letter-spacing:.24em;
      text-transform:uppercase;
      font-size: clamp(20px, 2.0vw, 34px);
    }
    .title-underline{
      width: min(560px, 74vw);
      height:1px;
      margin: 10px auto 0;
      background: var(--line-strong);
    }

    /* blueprint area */
    .bp{
      position:relative;
      width:100%;
      height:100%;
      /* reserve for bottom logo */
      padding-bottom: 150px;
    }

    /* center divider */
    .center-line{
      position:absolute;
      left:50%;
      top: 0;
      bottom: 0;
      width:1px;
      background: var(--line-strong);
      transform: translateX(-0.5px);
      pointer-events:none;
      z-index:1;
    }

    /* horizontal under-title line */
    .top-line{
      position:absolute;
      left:0; right:0;
      top: 38px;
      height:1px;
      background: var(--line);
      pointer-events:none;
      z-index:1;
    }

    /* top arms like reference */
    .arm-left, .arm-right{
      position:absolute;
      top: 70px;
      height:1px;
      background: var(--line-strong);
      pointer-events:none;
      z-index:1;
    }
    .arm-left{ left: 0; right: 51%; }
    .arm-right{ left: 51%; right: 0; }

    /* micro row (under title area, spanning both) */
    .micro-row{
      position:absolute;
      left:0; right:0;
      top: 46px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
      align-items:start;
      padding: 0 6px;
      z-index:5;
    }
    .micro-left, .micro-right{
      /* style per TZ */
      color:var(--micro);
      font-size: 12px;
      font-style: italic;
      line-height: 1.35;
    }
    .micro-left{ text-align:left; padding-right:10px; }
    .micro-right{ text-align:left; padding-left:10px; }

    /* columns split exactly half */
    .cols{
      position:relative;
      z-index:10;
      height:100%;
      display:grid;
      grid-template-columns: 50% 50%;
      gap:0;
      padding-top: 86px; /* below micro row + top arms */
    }
    .col{
      padding: 0 18px;
      height:100%;
      display:flex;
      flex-direction:column;
      gap: 10px;
      min-height:0;
    }

    /* cards */
    .card{
      border:1px solid var(--border);
      background: var(--card);
      padding: 10px 12px;
    }

    /* LEFT: 4 headline rows with micro */
    .lineblock{
      display:grid;
      grid-template-columns: 1fr auto;
      gap: 6px 12px;
      align-items:start;
    }
    .lineblock h3{
      margin:0;
      font-size: 14px;
      font-weight: 700;
      letter-spacing:.02em;
    }
    .lineblock .value{
      font-size: 18px;
      font-weight: 700;
      letter-spacing:.06em;
      white-space:nowrap;
      text-align:right;
    }
    .lineblock .micro{
      grid-column: 1 / -1;
      margin-top: 4px;
      color: var(--micro);
      font-size: 12px;
      line-height: 1.35;
    }
    .mini-ico{
      grid-column: 2;
      justify-self:end;
      margin-top: 6px;
      opacity: .95;
    }

    /* LEFT: chloride/sodium with guideline + status */
    .grid2{ display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .stat-title{
      margin:0 0 8px;
      font-size: 13px;
      font-weight: 800;
      letter-spacing:.02em;
    }
    .kv{
      display:grid;
      grid-template-columns: auto 1fr;
      gap: 6px 10px;
      align-items:baseline;
      font-size: 12.5px;
      color: var(--muted);
    }
    .kv b{
      font-weight: 600;
      color: var(--muted);
      white-space:nowrap;
    }
    .kv .val{ color: var(--text); }
    .kv .after{ color: rgba(74,200,220,0.95); }
    .ok{
      margin-top: 8px;
      color: var(--green);
      font-size: 12.5px;
      letter-spacing:.02em;
    }
    .under-micro{
      margin-top: 8px;
      color: var(--micro);
      font-size: 11.5px; /* 2-3pt smaller */
      line-height: 1.25;
      white-space: nowrap; /* IMPORTANT: one line */
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* RIGHT: badges above table (per TZ) */
    .badges{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .badge{
      position:relative;
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:7px 10px 7px 9px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.0);
      color:var(--muted);
      font-size:12px;
      letter-spacing:.08em;
      text-transform:uppercase;
      user-select:none;
      white-space:nowrap;
      cursor: default;
    }
    .badge:hover{ border-color: rgba(74,200,220,0.7); color: var(--text); }
    .badge .ico{ width:14px; height:14px; display:inline-grid; place-items:center; opacity:.9; }
    .badge[data-tip]::after{
      content: attr(data-tip);
      position:absolute;
      left:0;
      top: calc(100% + 10px);
      width:max-content;
      max-width:340px;
      white-space:normal;
      padding:8px 10px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.92);
      color: var(--muted);
      font-size:12px;
      letter-spacing:.02em;
      text-transform:none;
      opacity:0;
      transform: translateY(-6px);
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index:60;
    }
    .badge:hover::after{ opacity:1; transform: translateY(0); }

    /* RIGHT: header of block */
    .right-head h3{
      margin:0;
      font-size: 16px;
      font-weight: 800;
      letter-spacing:.02em;
    }
    .right-head p{
      margin:6px 0 0;
      color: var(--micro);
      font-size: 12px;
      line-height: 1.35;
    }

    /* RIGHT: table card fixed to fit */
    .table-card{
      border:1px solid var(--border);
      background: var(--card);
      padding: 0;
      overflow:hidden;
      flex: 1;
      min-height: 0;
      display:flex;
      flex-direction:column;
    }
    table{
      width:100%;
      border-collapse:collapse;
      font-size: 12.5px;
    }
    thead th{
      text-align:left;
      color: var(--muted);
      font-weight: 700;
      font-size: 10.5px;
      letter-spacing: .08em;
      text-transform:uppercase;
      padding: 9px 10px;
      border-bottom: 1px solid rgba(74,144,164,0.22);
      white-space: nowrap;
    }
    tbody td{
      padding: 7px 10px; /* tight rows to fit all content */
      border-bottom: 1px solid rgba(74,144,164,0.14);
      color: var(--text);
      vertical-align:middle;
    }
    tbody tr:last-child td{ border-bottom:none; }

    .status{
      display:inline-flex;
      align-items:center;
      gap:8px;
      color: var(--muted);
      white-space:nowrap;
      letter-spacing:.03em;
      font-size: 12px;
    }
    .dot{
      width:9px; height:9px;
      border-radius:50%;
      display:inline-block;
      border: 1px solid rgba(255,255,255,0.10);
    }
    .dot.red{ background: var(--red); }
    .dot.green{ background: var(--green); }

    /* RIGHT: label + legend/nda under table */
    .right-foot{
      margin-top: 8px;
      color: var(--micro);
      font-size: 12px;
      line-height: 1.35;
      display:grid;
      gap: 6px;
    }
    .right-foot .label{
      color: var(--muted);
      letter-spacing:.04em;
    }
    .right-foot .legend{
      color: var(--micro);
    }

    /* bottom logo with diverging lines */
    .logo-wrap{
      position:absolute;
      left:50%;
      bottom: 0;
      transform: translateX(-50%);
      width: 180px;
      height: 150px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-end;
      z-index:20;
    }
    .logo-lines{
      position:absolute;
      left: 50%;
      top: 54px; /* center of circle */
      transform: translateX(-50%);
      width: 100vw;
      height: 1px;
      pointer-events:none;
      z-index:1;
    }
    .logo-lines::before,
    .logo-lines::after{
      content:"";
      position:absolute;
      top:0;
      height:1px;
      background: var(--line-strong);
      width: calc(50vw - 92px);
    }
    .logo-lines::before{ right: 92px; }
    .logo-lines::after{ left: 92px; }

    .logo-circle{
      width: 128px;
      height: 128px;
      border-radius:50%;
      border:1px solid rgba(74,200,220,0.55);
      background: rgba(10,20,30,0.25);
      display:grid;
      place-items:center;
      box-shadow: 0 0 30px var(--glow);
      animation: pulse 2.4s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ box-shadow: 0 0 22px rgba(74,200,220,0.26); }
      50%{ box-shadow: 0 0 34px rgba(74,200,220,0.52); }
    }
    .brand{
      margin-top: 10px;
      font-size: 13px;
      letter-spacing: .28em;
      color: var(--muted);
      text-transform:uppercase;
    }

    /* blueprint decorative skeleton (subtle, like reference) */
    .decor{
      position:absolute;
      left:0; top:0; right:0; bottom:150px;
      pointer-events:none;
      z-index:2;
    }
    .decor .l{ position:absolute; height:1px; background: var(--line-strong); opacity: .92; }
    .decor .v{ position:absolute; width:1px; background: var(--line-strong); opacity: .92; }

    /* tuned to resemble your skeleton image */
    .decor .ls1{ left: 26px; width: 38%; top: 118px; }
    .decor .ls2{ left: 26px; width: 38%; top: 158px; }
    .decor .ls3{ left: 26px; width: 38%; top: 198px; }

    .decor .lm1{ left: 26px; width: 16%; top: 262px; }
    .decor .lm2{ left: 26px; width: 16%; top: 302px; }
    .decor .lm3{ left: 26px; width: 16%; top: 342px; }
    .decor .lm4{ left: 26px; width: 16%; top: 382px; }

    .decor .rm1{ left: 22%; width: 16%; top: 262px; }
    .decor .rm2{ left: 22%; width: 16%; top: 302px; }
    .decor .rm3{ left: 22%; width: 16%; top: 342px; }
    .decor .rm4{ left: 22%; width: 16%; top: 382px; }

    .decor .lv1{ left: 20%; top: 240px; height: 170px; }

    .decor .box{
      position:absolute;
      right: 26px;
      top: 132px;
      width: 40%;
      height: 310px;
      border:1px solid var(--line-strong);
      opacity:.92;
    }

    .decor .b1{ left: 26px; width: 44%; top: 470px; opacity:.50; background: var(--line); }
    .decor .b2{ right: 26px; width: 44%; top: 470px; opacity:.50; background: var(--line); }
    .decor .b3{ left: 26px; width: 30%; top: 520px; opacity:.50; background: var(--line); }
    .decor .b4{ right: 26px; width: 30%; top: 520px; opacity:.50; background: var(--line); }

    /* reveal */
    .fade{
      opacity:0;
      transform: translateY(8px);
      transition: opacity .55s ease, transform .55s ease;
    }
    .fade.show{ opacity:1; transform: translateY(0); }

    /* responsive: allow scroll, collapse columns */
    @media (max-width: 980px){
      body{ overflow:auto; }
      .section{ height:auto; min-height:100vh; overflow:visible; }
      .bp{ padding-bottom: 170px; }
      .cols{ grid-template-columns: 1fr; }
      .center-line{ display:none; }
      .micro-row{ grid-template-columns: 1fr; position:static; margin: 8px 0 0; }
      .top-line, .arm-left, .arm-right{ display:none; }
      .grid2{ grid-template-columns: 1fr; }
      .decor{ display:none; }
      .table-card{ min-height: 420px; }
      .under-micro{ white-space: normal; }
    }
  </style>
</head>

<body>
  <section class="section" id="quality">
    <div class="lang" role="group" aria-label="Language">
      <button id="btnEn" aria-pressed="true">EN</button>
      <button id="btnRu" aria-pressed="false">RU</button>
    </div>

    <header class="header">
      <h1 class="title">QUALITY &amp; STANDARDS</h1>
      <div class="title-underline"></div>
    </header>

    <div class="bp" id="bp">
      <div class="center-line"></div>
      <div class="top-line"></div>
      <div class="arm-left"></div>
      <div class="arm-right"></div>

      <!-- skeleton lines like reference -->
      <div class="decor" aria-hidden="true">
        <div class="l ls1"></div><div class="l ls2"></div><div class="l ls3"></div>
        <div class="l lm1"></div><div class="l lm2"></div><div class="l lm3"></div><div class="l lm4"></div>
        <div class="l rm1"></div><div class="l rm2"></div><div class="l rm3"></div><div class="l rm4"></div>
        <div class="v lv1"></div>
        <div class="box"></div>
        <div class="l b1"></div><div class="l b2"></div>
        <div class="l b3"></div><div class="l b4"></div>
      </div>

      <!-- micro under title (RU/EN switch affects LEFT text; RIGHT kept short like ref, you can edit if needed) -->
      <div class="micro-row fade" id="microRow">
        <div class="micro-left" data-i="topMicro">
          Public disclosure level: numbers shown only for safe-to-disclose “hook metrics”; the table shows status trends without values.
        </div>
        <div class="micro-right" data-i="topMicroRight">
          Public disclosure level: numbers shown only for safe-to-disclose “hook metrics”; status trends only.
        </div>
      </div>

      <div class="cols">
        <!-- LEFT COLUMN: full content from TZ -->
        <div class="col">
          <!-- 1) Salt reduction -->
          <div class="card fade">
            <div class="lineblock">
              <h3 data-i="saltHeadline">Salt reduction (pilot): ~900–1500×</h3>
              <div class="value">~900–1500×</div>
              <div class="micro" data-i="saltMicro">
                representative pilot samples (chain-of-custody); feed/config-dependent.
              </div>
              <div class="mini-ico" aria-hidden="true" title="wave → arrow → DC">
                <svg width="78" height="18" viewBox="0 0 78 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M2 11c5 0 5-6 10-6s5 6 10 6 5-6 10-6" stroke="rgba(74,200,220,0.75)" stroke-width="1"/>
                  <path d="M36 9h18" stroke="rgba(74,200,220,0.75)" stroke-width="1"/>
                  <path d="M52 5l4 4-4 4" stroke="rgba(74,200,220,0.75)" stroke-width="1"/>
                  <text x="60" y="12" fill="rgba(255,255,255,0.65)" font-size="10" font-family="Inter, system-ui">DC</text>
                </svg>
              </div>
            </div>
          </div>

          <!-- 2) Recovery -->
          <div class="card fade">
            <div class="lineblock">
              <h3 data-i="recHeadline">Product water recovery: up to 98%</h3>
              <div class="value">98%</div>
              <div class="micro" data-i="recMicro">
                feed-dependent; ultra-low concentrate / reject volume (full protocols after e-NDA).
              </div>
            </div>
          </div>

          <!-- Chloride + Sodium with guideline + status -->
          <div class="card fade">
            <div class="grid2">
              <div>
                <div class="stat-title" data-i="clTitle">Chloride (Cl⁻)</div>
                <div class="kv">
                  <b data-i="rawLabel">Raw:</b> <span class="val" id="clRaw">48,000 mg/L</span>
                  <b data-i="afterLabel">After:</b> <span class="val after" id="clAfter">52 mg/L</span>
                  <b data-i="guideLabel">Guideline (WHO/EU/US EPA):</b> <span class="val" data-i="clGuide">≤ 350 mg/L</span>
                </div>
                <div class="ok" data-i="clStatus">✅ below guideline</div>
              </div>

              <div>
                <div class="stat-title" data-i="naTitle">Sodium (Na⁺)</div>
                <div class="kv">
                  <b data-i="rawLabel">Raw:</b> <span class="val" id="naRaw">23,200 mg/L</span>
                  <b data-i="afterLabel">After:</b> <span class="val after" id="naAfter">16 mg/L</span>
                  <b data-i="guideLabel">Guideline (WHO/EU/US EPA):</b> <span class="val" data-i="naGuide">≤ 200 mg/L</span>
                </div>
                <div class="ok" data-i="naStatus">✅ below guideline</div>
              </div>
            </div>

            <div class="under-micro" data-i="underMicro">
              Raw — raw sample • After — after AQUINTAQA • Guideline — WHO/EU/US EPA benchmark
            </div>
          </div>

          <!-- 3) Particle removal -->
          <div class="card fade">
            <div class="lineblock">
              <h3 data-i="pHeadline">Particle removal &lt; 1 μm</h3>
              <div class="value"></div>
              <div class="micro" data-i="pMicro">
                colloids / suspended matter; verified on pilot samples (chain-of-custody).
              </div>
            </div>
          </div>

          <!-- 4) Feed salinity tolerance -->
          <div class="card fade" style="margin-top:-2px;">
            <div class="lineblock">
              <h3 data-i="fHeadline">Feed salinity tolerance: up to 200 g/L</h3>
              <div class="value"></div>
              <div class="micro" data-i="fMicro">
                dissolved salts (TDS); feed-dependent.
              </div>
            </div>
          </div>
        </div>

        <!-- RIGHT COLUMN: badges + table + texts (per TZ) -->
        <div class="col">
          <div class="right-head fade">
            <h3 data-i="rtTitle">Quality trends before/after (no values)</h3>
            <p data-i="rtDesc">Status comparison vs WHO/EU/US EPA benchmarks. Full numeric tables are available in the Data Room (e-NDA).</p>
          </div>

          <!-- badges ABOVE TABLE (per TZ page 4) -->
          <div class="badges fade" id="badges">
            <div class="badge" data-tip="World Health Organization (WHO)"><span class="ico">⚕︎</span>WHO</div>
            <div class="badge" data-tip="European Union (EU)"><span class="ico">◻︎</span>EU</div>
            <div class="badge" data-tip="U.S. Environmental Protection Agency (US EPA)"><span class="ico">⟡</span>US EPA</div>
            <div class="badge" data-tip="Independent lab verification. Reports & protocols in the Data Room after e-NDA."><span class="ico">✦</span>Lab-verified</div>
          </div>

          <div class="table-card fade">
            <table aria-label="Quality status table">
              <thead>
                <tr>
                  <th data-i="thParam">Parameter</th>
                  <th data-i="thRaw">Raw (status)</th>
                  <th data-i="thAfter">After (status)</th>
                  <th data-i="thBench">Benchmark: WHO / EU / US EPA</th>
                </tr>
              </thead>
              <tbody id="rows"></tbody>
            </table>
          </div>

          <!-- Under-table texts exactly per TZ (no duplicates) -->
          <div class="right-foot fade">
            <div class="label" data-i="labelLine">Trends: public status view (no numbers)</div>
            <div class="legend" data-i="legendLine">
              red = elevated baseline • green = within benchmark • blue = above benchmark. Full before/after tables, methods & reports after e-NDA (Data Room).
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom centered logo + diverging lines -->
      <div class="logo-wrap" aria-label="AQUINTAQA logo">
        <div class="logo-lines" aria-hidden="true"></div>

        <div class="logo-circle">
          <svg width="78" height="78" viewBox="0 0 78 78" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <defs>
              <linearGradient id="g1" x1="14" y1="10" x2="66" y2="70" gradientUnits="userSpaceOnUse">
                <stop stop-color="#4AC8DC"/><stop offset="1" stop-color="#1A5A6A"/>
              </linearGradient>
              <linearGradient id="g2" x1="24" y1="16" x2="56" y2="62" gradientUnits="userSpaceOnUse">
                <stop stop-color="#6FE3F2"/><stop offset="1" stop-color="#1A5A6A"/>
              </linearGradient>
            </defs>
            <path d="M39 6 L62 20 L70 40 L62 58 L39 72 L16 58 L8 40 L16 20 Z"
                  stroke="url(#g1)" stroke-width="2" fill="rgba(10,20,30,0.1)"/>
            <path d="M39 6 L62 20 L39 34 L16 20 Z" fill="rgba(74,200,220,0.10)"/>
            <path d="M16 20 L39 34 L39 72 L16 58 Z" fill="rgba(26,90,106,0.12)"/>
            <path d="M62 20 L39 34 L39 72 L62 58 Z" fill="rgba(74,200,220,0.08)"/>
            <path d="M39 22 C34 30 28 36 28 44 C28 52 33 58 39 58 C45 58 50 52 50 44 C50 36 44 30 39 22 Z"
                  fill="url(#g2)" stroke="rgba(255,255,255,0.10)" stroke-width="1"/>
            <path d="M39 32 C36 37 34 40 34 44 C34 48 36.5 51 39 51 C41.5 51 44 48 44 44 C44 40 42 37 39 32 Z"
                  fill="rgba(0,0,0,0.22)"/>
          </svg>
        </div>
        <div class="brand">AQUINTAQA</div>
      </div>
    </div>
  </section>

  <script>
    // --- Rows from TZ: include ALL rows (no "view more" toggle) ---
    const tableRows = {
      en: [
        "TDS (total dissolved solids)",
        "Hardness (Ca/Mg)",
        "Nitrates/nitrites",
        "Chlorides",
        "NTU (turbidity)",
        "Sulfates (SO₄²⁻)",
        "Alkalinity",
        "Calcium/magnesium",
        "Sodium",
        "Ammonium (NH₄⁺)",
        "Color",
        "Odor/taste (organoleptics)",
        "Scaling tendency (indicator)",
        "Corrosion potential (indicator)"
      ],
      ru: [
        "TDS (общая минерализация)",
        "Жёсткость (Ca/Mg)",
        "Нитраты/нитриты",
        "Хлориды",
        "NTU (мутность)",
        "Сульфаты (SO₄²⁻)",
        "Щёлочность",
        "Кальций/магний",
        "Натрий",
        "Аммоний (NH₄⁺)",
        "Цветность",
        "Запах/вкус (органолептика)",
        "Склонность к накипи (indicator)",
        "Коррозионный потенциал (indicator)"
      ]
    };

    const I18N = {
      en: {
        topMicro: "Public disclosure level: numbers shown only for safe-to-disclose “hook metrics”; the table shows status trends without values.",
        topMicroRight: "Public disclosure level: numbers shown only for safe-to-disclose “hook metrics”; status trends only.",

        saltHeadline: "Salt reduction (pilot): ~900–1500×",
        saltMicro: "representative pilot samples (chain-of-custody); feed/config-dependent.",

        recHeadline: "Product water recovery: up to 98%",
        recMicro: "feed-dependent; ultra-low concentrate / reject volume (full protocols after e-NDA).",

        clTitle: "Chloride (Cl⁻)",
        naTitle: "Sodium (Na⁺)",
        rawLabel: "Raw:",
        afterLabel: "After:",
        guideLabel: "Guideline (WHO/EU/US EPA):",
        clGuide: "≤ 350 mg/L",
        naGuide: "≤ 200 mg/L",
        clStatus: "✅ below guideline",
        naStatus: "✅ below guideline",

        underMicro: "Raw — raw sample • After — after AQUINTAQA • Guideline — WHO/EU/US EPA benchmark",

        pHeadline: "Particle removal < 1 μm",
        pMicro: "colloids / suspended matter; verified on pilot samples (chain-of-custody).",

        fHeadline: "Feed salinity tolerance: up to 200 g/L",
        fMicro: "dissolved salts (TDS); feed-dependent.",

        rtTitle: "Quality trends before/after (no values)",
        rtDesc: "Status comparison vs WHO/EU/US EPA benchmarks. Full numeric tables are available in the Data Room (e-NDA).",

        thParam: "Parameter",
        thRaw: "Raw (status)",
        thAfter: "After (status)",
        thBench: "Benchmark: WHO / EU / US EPA",

        labelLine: "Trends: public status view (no numbers)",
        legendLine: "red = elevated baseline • green = within benchmark • blue = above benchmark. Full before/after tables, methods & reports after e-NDA (Data Room)."
      },

      ru: {
        topMicro: "Публичный уровень раскрытия: цифры — только безопасные для IP «hook-метрики»; таблица — статус-тренды без значений.",
        topMicroRight: "Публичное раскрытие: только статус (без чисел).",

        saltHeadline: "Снижение солевой нагрузки (pilot): ~900–1500×",
        saltMicro: "репрезентативные пилотные пробы (chain-of-custody); зависит от фида и конфигурации.",

        recHeadline: "Выход очищенной воды (Recovery): до 98%",
        recMicro: "зависит от фида; минимальный объём концентрата/отходящего потока (полные протоколы — после e-NDA).",

        clTitle: "Хлорид-ион (Cl⁻)",
        naTitle: "Натрий (Na⁺)",
        rawLabel: "Raw:",
        afterLabel: "After:",
        guideLabel: "Guideline (WHO/EU/US EPA):",
        clGuide: "≤ 350 mg/L",
        naGuide: "≤ 200 mg/L",
        clStatus: "✅ ниже ориентира",
        naStatus: "✅ ниже ориентира",

        underMicro: "Raw — исходная проба • After — после AQUINTAQA • Guideline — ориентир WHO/EU/US EPA",

        pHeadline: "Удаление частиц < 1 μm",
        pMicro: "коллоиды / взвеси; подтверждено пилотными пробами (chain-of-custody).",

        fHeadline: "Допустимая минерализация фида: до 200 g/L",
        fMicro: "по солям (TDS); зависит от состава фида (feed-dependent).",

        rtTitle: "Тренды качества «до/после» (без значений)",
        rtDesc: "Статус-сравнение относительно ориентиров WHO/EU/US EPA. Полные таблицы с цифрами — в Data Room (e-NDA).",

        thParam: "Parameter",
        thRaw: "Raw (status)",
        thAfter: "After (status)",
        thBench: "Benchmark: WHO / EU / US EPA",

        labelLine: "Trends: public status view (no numbers)",
        legendLine: "red = повышенный baseline • green = в пределах ориентира • blue = выше ориентира. Полные “до/после” таблицы, методики и отчёты — после e-NDA (Data Room)."
      }
    };

    // number formatting per TZ
    const NUM = {
      en: { clRaw: "48,000 mg/L", naRaw: "23,200 mg/L", clAfter: "52 mg/L", naAfter: "16 mg/L" },
      ru: { clRaw: "48\u202f000 mg/L", naRaw: "23\u202f200 mg/L", clAfter: "52 mg/L", naAfter: "16 mg/L" }
    };

    let lang = "en";

    function buildTable(){
      const tbody = document.getElementById("rows");
      tbody.innerHTML = tableRows[lang].map(label => `
        <tr>
          <td>${label}</td>
          <td><span class="status"><span class="dot red"></span>RED&nbsp;HIGH</span></td>
          <td><span class="status"><span class="dot green"></span>GREEN&nbsp;OK</span></td>
          <td></td>
        </tr>
      `).join("");
    }

    function applyLang(){
      // swap texts
      document.querySelectorAll("[data-i]").forEach(el=>{
        const key = el.getAttribute("data-i");
        const val = I18N[lang][key];
        if(val != null) el.textContent = val;
      });

      // numbers
      document.getElementById("clRaw").textContent = NUM[lang].clRaw;
      document.getElementById("clAfter").textContent = NUM[lang].clAfter;
      document.getElementById("naRaw").textContent = NUM[lang].naRaw;
      document.getElementById("naAfter").textContent = NUM[lang].naAfter;

      // tooltips on badges (exact per TZ)
      const badges = document.querySelectorAll("#badges .badge");
      if(badges.length >= 4){
        badges[0].setAttribute("data-tip", lang==="ru" ? "Всемирная организация здравоохранения (ВОЗ)" : "World Health Organization (WHO)");
        badges[1].setAttribute("data-tip", lang==="ru" ? "Европейский союз (ЕС)" : "European Union (EU)");
        badges[2].setAttribute("data-tip", lang==="ru" ? "Агентство по охране окружающей среды США (EPA)" : "U.S. Environmental Protection Agency (US EPA)");
        badges[3].setAttribute("data-tip", lang==="ru"
          ? "Независимое лабораторное подтверждение. Отчёты и протоколы — в Data Room после e-NDA."
          : "Independent lab verification. Reports & protocols in the Data Room after e-NDA."
        );
      }

      buildTable();
    }

    // buttons
    const btnEn = document.getElementById("btnEn");
    const btnRu = document.getElementById("btnRu");
    btnEn.addEventListener("click", ()=>{
      lang = "en";
      btnEn.setAttribute("aria-pressed","true");
      btnRu.setAttribute("aria-pressed","false");
      applyLang();
    });
    btnRu.addEventListener("click", ()=>{
      lang = "ru";
      btnRu.setAttribute("aria-pressed","true");
      btnEn.setAttribute("aria-pressed","false");
      applyLang();
    });

    // reveal (no scroll)
    function reveal(){
      document.querySelectorAll(".fade").forEach((el,i)=>{
        setTimeout(()=>el.classList.add("show"), 80 + i*60);
      });
    }

    // init
    applyLang();
    reveal();
  </script>
</body>
</html>
